<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Run GRASS commands — execGRASS • rgrass</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Run GRASS commands — execGRASS"><meta name="description" content="The functions provide an interface to GRASS commands run through
system, based on the values returned by the --interface description
flag using XML parsing. If required parameters are omitted, and
have declared defaults, the defaults will be used."><meta property="og:description" content="The functions provide an interface to GRASS commands run through
system, based on the values returned by the --interface description
flag using XML parsing. If required parameters are omitted, and
have declared defaults, the defaults will be used."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rgrass</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5-1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/coerce.html">Coercion between object formats</a></li>
    <li><a class="dropdown-item" href="../articles/use.html">Use of GRASS interface</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/osgeo/rgrass/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Run GRASS commands</h1>
      <small class="dont-index">Source: <a href="https://github.com/osgeo/rgrass/blob/HEAD/R/xml1.R" class="external-link"><code>R/xml1.R</code></a></small>
      <div class="d-none name"><code>execGRASS.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The functions provide an interface to GRASS commands run through
<code>system</code>, based on the values returned by the <code>--interface description</code>
flag using XML parsing. If required parameters are omitted, and
have declared defaults, the defaults will be used.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">execGRASS</span><span class="op">(</span></span>
<span>  <span class="va">cmd</span>,</span>
<span>  flags <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  parameters <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  intern <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ignore.stderr <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Sys_ignore.stdout <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  Sys_wait <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  Sys_input <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Sys_show.output.on.console <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  Sys_minimized <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  Sys_invisible <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  echoCmd <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  redirect <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  legacyExec <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">stringexecGRASS</span><span class="op">(</span></span>
<span>  <span class="va">string</span>,</span>
<span>  intern <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ignore.stderr <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Sys_ignore.stdout <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  Sys_wait <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  Sys_input <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Sys_show.output.on.console <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  Sys_minimized <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  Sys_invisible <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  echoCmd <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  redirect <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  legacyExec <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">doGRASS</span><span class="op">(</span></span>
<span>  <span class="va">cmd</span>,</span>
<span>  flags <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  parameters <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  echoCmd <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legacyExec <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">parseGRASS</span><span class="op">(</span><span class="va">cmd</span>, legacyExec <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'GRASS_interface_desc'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">getXMLencoding</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">setXMLencoding</span><span class="op">(</span><span class="va">enc</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-cmd">cmd<a class="anchor" aria-label="anchor" href="#arg-cmd"></a></dt>
<dd><p>GRASS command name.</p></dd>


<dt id="arg-flags">flags<a class="anchor" aria-label="anchor" href="#arg-flags"></a></dt>
<dd><p>character vector of GRASS command flags.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>for <code>execGRASS</code> and <code>doGRASS</code>, GRASS module parameters
given as R named arguments directly. For the <code>print</code> method, other
arguments to print method. The storage modes of values passed must match
those required in GRASS, so a single GRASS string must be a character vector
of length 1, a single GRASS integer must be an integer vector of length 1
(may be an integer constant such as 10L), and a single GRASS float must be
a numeric vector of length 1. For multiple values, use vectors of suitable
length.</p></dd>


<dt id="arg-parameters">parameters<a class="anchor" aria-label="anchor" href="#arg-parameters"></a></dt>
<dd><p>list of GRASS command parameters, used if GRASS parameters
are not given as R arguments directly; the two methods for passing GRASS
parameters may not be mixed. The storage modes of values passed must match
those required in GRASS, so a single GRASS string must be a character vector
of length 1, a single GRASS integer must be an integer vector of length 1
(may be an integer constant such as 10L), and a single GRASS float must be
a numeric vector of length 1. For multiple values, use vectors of suitable
length.</p></dd>


<dt id="arg-intern">intern<a class="anchor" aria-label="anchor" href="#arg-intern"></a></dt>
<dd><p>default NULL, in which case set internally from
<code>get.useInternOption</code>; a logical (not 'NA') which indicates whether to
make the output of the command an R object. Not available unless 'popen' is
supported on the platform.</p></dd>


<dt id="arg-ignore-stderr">ignore.stderr<a class="anchor" aria-label="anchor" href="#arg-ignore-stderr"></a></dt>
<dd><p>default NULL, taking the value set by
<code>set.ignore.stderrOption</code>, a logical indicating whether error messages
written to 'stderr' should be ignored.</p></dd>


<dt id="arg-sys-ignore-stdout-sys-wait-sys-input">Sys_ignore.stdout, Sys_wait, Sys_input<a class="anchor" aria-label="anchor" href="#arg-sys-ignore-stdout-sys-wait-sys-input"></a></dt>
<dd><p>pass extra arguments to
<code>system</code>.</p></dd>


<dt id="arg-sys-show-output-on-console-sys-minimized-sys-invisible">Sys_show.output.on.console, Sys_minimized, Sys_invisible<a class="anchor" aria-label="anchor" href="#arg-sys-show-output-on-console-sys-minimized-sys-invisible"></a></dt>
<dd><p>pass extra
arguments to <code>system</code> on Windows systems only.</p></dd>


<dt id="arg-echocmd">echoCmd<a class="anchor" aria-label="anchor" href="#arg-echocmd"></a></dt>
<dd><p>default NULL, taking the logical value set by
<code>set.echoCmdOption</code>, print GRASS command to be executed to console.</p></dd>


<dt id="arg-redirect">redirect<a class="anchor" aria-label="anchor" href="#arg-redirect"></a></dt>
<dd><p>default <code>FALSE</code>, if <code>TRUE</code>, add "2&gt;&amp;1" to
the command string and set <code>intern</code> to <code>TRUE</code>; only used in
legacy mode.</p></dd>


<dt id="arg-legacyexec">legacyExec<a class="anchor" aria-label="anchor" href="#arg-legacyexec"></a></dt>
<dd><p>default NULL, taking the logical value set by
<code>set.legacyExecOption</code> which is initialised to <code>FALSE</code> on
"unix" platforms and <code>TRUE</code> otherwise. If <code>TRUE</code>, use
<code>system</code>, if <code>FALSE</code> use <code>system2</code> and divert stderr to
temporary file to record error messages and warnings from GRASS modules.</p></dd>


<dt id="arg-string">string<a class="anchor" aria-label="anchor" href="#arg-string"></a></dt>
<dd><p>a string representing <em>one</em> full GRASS statement, using shell
syntax: command name, optionally followed by flags and parameters, all
separated by whitespaces. Parameters follow the key=value format; if
’value’ contains spaces, then ’value’ must be quoted</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>object to be printed</p></dd>


<dt id="arg-enc">enc<a class="anchor" aria-label="anchor" href="#arg-enc"></a></dt>
<dd><p>character string to replace UTF-8 in header of XML data generated
by GRASS module –interface-description output when the internationalised
messages are not in UTF-8 (known to apply to French, which is in latin1)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>parseGRASS</code> returns a <code>GRASS_interface_desc</code> object,
<code>doGRASS</code> returns a character string with a proposed GRASS command -
the expanded command name is returned as an attribute, and <code>execGRASS</code>
and  <code>stringexecGRASS</code> return what <code>system</code> or <code>system2</code>
return, particularly depending on the <code>intern</code> argument when the
character strings output by GRASS modules are returned.</p>
<p>If <code>intern</code> is <code>FALSE</code>, <code>system</code> returns the module exit
code, while <code>system2</code> returns the module exit code with
"resOut" and "resErr" attributes.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>parseGRASS</code> checks to see whether the GRASS command has been parsed
already and cached in this session; if not, it reads the interface
description, parses it and caches it for future use. <code>doGRASS</code> assembles
a proposed GRASS command with flags and parameters as a string, wrapping
<code>parseGRASS</code>, and <code>execGRASS</code> is a wrapper for <code>doGRASS</code>,
running the command through <code>system</code> (from 0.7-4, the <code>...</code>
argument is not used for passing extra arguments for <code>system</code>). The
command string is termed proposed, because not all of the particular needs of
commands are provided by the interface description, and no check is made for
the existence of input objects. Support for multiple parameter values added
with help from Patrick Caldon. Support for defaults and for direct use of
GRASS parameters instead of a parameter list suggested by Rainer Krug.</p>
<p><code>stringexecGRASS</code> is a wrapper around <code>execGRASS</code>, and accepts a
single shell statement as a string (following GRASS's command syntax).</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>If any package command fails with a UTF-8 error from the XML package, try
using <code>setXMLencoding</code> to work around the problem that GRASS modules
declare –interface-description output as UTF-8 without ensuring that it is
(French is of 6.4.0 RC5 latin1).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/base/system.html" class="external-link">base::system()</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Roger S. Bivand, e-mail: <a href="mailto:Roger.Bivand@nhh.no">Roger.Bivand@nhh.no</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Run examples if in an active GRASS session in the nc_basic_spm_grass7</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span><span class="st">"_SP_EVOLUTION_STATUS_"</span> <span class="op">=</span> <span class="st">"2"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">run</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="va">GISRC</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"GISRC"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">GISRC</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">location_name</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/dcf.html" class="external-link">read.dcf</a></span><span class="op">(</span><span class="va">GISRC</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span>, <span class="st">"LOCATION_NAME"</span><span class="op">]</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="va">location_name</span> <span class="op">==</span> <span class="st">"nc_basic_spm_grass7"</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">run</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Save and set echo command option</span></span></span>
<span class="r-in"><span><span class="va">echoCmdOption</span> <span class="op">&lt;-</span> <span class="fu"><a href="gmeta.html">get.echoCmdOption</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="gmeta.html">set.echoCmdOption</a></span><span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># Read and print GRASS interface description for 'r.slope.aspect'</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">parseGRASS</span><span class="op">(</span><span class="st">"r.slope.aspect"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Command: r.slope.aspect </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Description: Generates raster maps of slope, aspect, curvatures and partial derivatives from an elevation raster map. Aspect is calculated counterclockwise from east. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Keywords: raster, terrain, aspect, slope, curvature, parallel </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Parameters:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: elevation, type: string, required: yes, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   keydesc: name, keydesc_count: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Name of input elevation raster map]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: slope, type: string, required: no, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   keydesc: name, keydesc_count: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Name for output slope raster map]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: aspect, type: string, required: no, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   keydesc: name, keydesc_count: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Name for output aspect raster map]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: format, type: string, required: no, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   default: degrees</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Format for reporting the slope]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: precision, type: string, required: no, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   default: FCELL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Storage type for resultant raster map]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: pcurvature, type: string, required: no, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   keydesc: name, keydesc_count: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Name for output profile curvature raster map]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: tcurvature, type: string, required: no, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   keydesc: name, keydesc_count: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Name for output tangential curvature raster map]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: dx, type: string, required: no, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   keydesc: name, keydesc_count: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Name for output first order partial derivative dx (E-W slope) raster map]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: dy, type: string, required: no, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   keydesc: name, keydesc_count: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Name for output first order partial derivative dy (N-S slope) raster map]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: dxx, type: string, required: no, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   keydesc: name, keydesc_count: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Name for output second order partial derivative dxx raster map]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: dyy, type: string, required: no, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   keydesc: name, keydesc_count: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Name for output second order partial derivative dyy raster map]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: dxy, type: string, required: no, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   keydesc: name, keydesc_count: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Name for output second order partial derivative dxy raster map]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: zscale, type: float, required: no, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   default: 1.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Multiplicative factor to convert elevation units to horizontal units]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: min_slope, type: float, required: no, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   default: 0.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Minimum slope value (in percent) for which aspect is computed]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: nprocs, type: integer, required: no, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   default: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Number of threads for parallel computing]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: memory, type: integer, required: no, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   default: 300</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   keydesc: memory in MB, keydesc_count: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Cache size for raster rows]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Flags:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: a [Do not align the current region to the raster elevation map] {FALSE}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: e [Compute output at edges and near NULL values] {FALSE}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: n [Default: degrees counter-clockwise from East, with flat = 0] {FALSE}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: overwrite [Allow output files to overwrite existing files] {FALSE}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: help [Print usage summary] {FALSE}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: verbose [Verbose module output] {FALSE}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: quiet [Quiet module output] {FALSE}</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># Assemble the 'r.slope.aspect' command with specified parameters as a string</span></span></span>
<span class="r-in"><span>  <span class="fu">doGRASS</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"r.slope.aspect"</span>,</span></span>
<span class="r-in"><span>    flags <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"overwrite"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    elevation <span class="op">=</span> <span class="st">"elevation.dem"</span>,</span></span>
<span class="r-in"><span>    slope <span class="op">=</span> <span class="st">"slope"</span>,</span></span>
<span class="r-in"><span>    aspect <span class="op">=</span> <span class="st">"aspect"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GRASS command: r.slope.aspect --overwrite elevation=elevation.dem slope=slope aspect=aspect </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "r.slope.aspect --overwrite elevation=elevation.dem slope=slope aspect=aspect"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"cmd")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "r.slope.aspect"</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># Alternatively, specify parameters as a list</span></span></span>
<span class="r-in"><span>  <span class="va">params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>elevation <span class="op">=</span> <span class="st">"elevation"</span>,</span></span>
<span class="r-in"><span>                 slope <span class="op">=</span> <span class="st">"slope"</span>,</span></span>
<span class="r-in"><span>                 aspect <span class="op">=</span> <span class="st">"aspect"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">doGRASS</span><span class="op">(</span><span class="st">"r.slope.aspect"</span>,</span></span>
<span class="r-in"><span>          flags <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"overwrite"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>          parameters <span class="op">=</span> <span class="va">params</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GRASS command: r.slope.aspect --overwrite elevation=elevation slope=slope aspect=aspect </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "r.slope.aspect --overwrite elevation=elevation slope=slope aspect=aspect"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"cmd")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "r.slope.aspect"</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># Read and print GRASS interface description for 'r.buffer'</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">parseGRASS</span><span class="op">(</span><span class="st">"r.buffer"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Command: r.buffer </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Description: Creates a raster map showing buffer zones surrounding cells that contain non-NULL category values. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Keywords: raster, buffer </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Parameters:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: input, type: string, required: yes, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   keydesc: name, keydesc_count: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Name of input raster map]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: output, type: string, required: yes, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   keydesc: name, keydesc_count: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Name for output raster map]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: distances, type: float, required: yes, multiple: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Distance zone(s)]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: units, type: string, required: no, multiple: no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   default: meters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Units of distance]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Flags:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: z [Ignore zero (0) data cells instead of NULL cells] {FALSE}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: overwrite [Allow output files to overwrite existing files] {FALSE}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: help [Print usage summary] {FALSE}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: verbose [Verbose module output] {FALSE}</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name: quiet [Quiet module output] {FALSE}</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># Assemble the 'r.buffer' with specified parameters as as string</span></span></span>
<span class="r-in"><span>  <span class="fu">doGRASS</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"r.buffer"</span>,</span></span>
<span class="r-in"><span>    flags <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"overwrite"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    input <span class="op">=</span> <span class="st">"schools"</span>,</span></span>
<span class="r-in"><span>    output <span class="op">=</span> <span class="st">"bmap"</span>,</span></span>
<span class="r-in"><span>    distances <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">15000</span>, <span class="fl">1000</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GRASS command: r.buffer --overwrite input=schools output=bmap distances=1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,11000,12000,13000,14000,15000 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "r.buffer --overwrite input=schools output=bmap distances=1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,11000,12000,13000,14000,15000"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"cmd")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "r.buffer"</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># Alternatively, specify parameters as a list</span></span></span>
<span class="r-in"><span>  <span class="va">params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    input <span class="op">=</span> <span class="st">"schools"</span>,</span></span>
<span class="r-in"><span>    output <span class="op">=</span> <span class="st">"bmap"</span>,</span></span>
<span class="r-in"><span>    distances <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">15000</span>, <span class="fl">1000</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">doGRASS</span><span class="op">(</span><span class="st">"r.buffer"</span>, flags <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"overwrite"</span><span class="op">)</span>, parameters <span class="op">=</span> <span class="va">params</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> GRASS command: r.buffer --overwrite input=schools output=bmap distances=1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,11000,12000,13000,14000,15000 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "r.buffer --overwrite input=schools output=bmap distances=1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,11000,12000,13000,14000,15000"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"cmd")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "r.buffer"</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># Restore original echo command option</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="gmeta.html">set.echoCmdOption</a></span><span class="op">(</span><span class="va">echoCmdOption</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Try executing 'r.stats' command which will fail because "fire_blocksgg"</span></span></span>
<span class="r-in"><span>  <span class="co"># does not exist in the mapset</span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">execGRASS</span><span class="op">(</span><span class="st">"r.stats"</span>, input <span class="op">=</span> <span class="st">"fire_blocksgg"</span>, flags <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C"</span>, <span class="st">"n"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      silent <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in execGRASS("r.stats", input = "fire_blocksgg", flags = c("C",  : </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   The command:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> r.stats -C -n input=fire_blocksgg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> produced an error (1) during execution:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ERROR: Raster map &lt;fire_blocksgg&gt; not found</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># Execute 'r.stats' with legacyExec and print the result</span></span></span>
<span class="r-in"><span>  <span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">execGRASS</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"r.stats"</span>,</span></span>
<span class="r-in"><span>    input <span class="op">=</span> <span class="st">"fire_blocksgg"</span>,</span></span>
<span class="r-in"><span>    flags <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C"</span>, <span class="st">"n"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    legacyExec <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># If the command failed, retrieve error message</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="va">res</span> <span class="op">!=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">resERR</span> <span class="op">&lt;-</span> <span class="fu">execGRASS</span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="st">"r.stats"</span>,</span></span>
<span class="r-in"><span>      input <span class="op">=</span> <span class="st">"fire_blocksgg"</span>,</span></span>
<span class="r-in"><span>      flags <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C"</span>, <span class="st">"n"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      redirect <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>      legacyExec <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">resERR</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>running command 'r.stats -C -n input=fire_blocksgg 2&gt;&amp;1' had status 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "ERROR: Raster map &lt;fire_blocksgg&gt; not found"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"status")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Use 'stringexecGRASS' to run a command and print the result</span></span></span>
<span class="r-in"><span>  <span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">stringexecGRASS</span><span class="op">(</span><span class="st">"r.stats -p -l input=geology"</span>, intern <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu">stringexecGRASS</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"r.random.cells --overwrite --quiet output=samples distance=1000 ncells=100 seed=1"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "217 CZfg 35.83%" "262 CZlg 9.81%"  "270 CZig 34.04%" "405 CZbg 12.53%"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5] "583 CZve 1.07%"  "720 CZam 0.24%"  "766 CZg 0.35%"   "862 CZam 3.05%" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] "910 CZbg 2.22%"  "921 Km 0.62%"    "945 CZbg 0.00%"  "946 CZam 0.20%" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] "948 CZam 0.04%" </span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">run</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># Alternatively, run the same command using 'execGRASS'</span></span></span>
<span class="r-in"><span>  <span class="fu">execGRASS</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"r.random.cells"</span>,</span></span>
<span class="r-in"><span>    flags  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"overwrite"</span>, <span class="st">"quiet"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    output <span class="op">=</span> <span class="st">"samples"</span>,</span></span>
<span class="r-in"><span>    distance <span class="op">=</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>    ncells <span class="op">=</span> <span class="fl">100L</span>,</span></span>
<span class="r-in"><span>    seed <span class="op">=</span> <span class="fl">1L</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Roger Bivand, Steven Pawley.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

